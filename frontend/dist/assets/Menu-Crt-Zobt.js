import{r as a,_ as K,aa as Ie,n as re,j as W,e as M,q as _e,b as xe,d as be,s as X,P as ze,u as we,f as oe,O as He,k as Re,o as $e,p as je}from"./index-CQi3PHFX.js";import{T as Ae,g as Ne,a as me,r as Ke,c as We,L as Ue,u as Y,M as Ge}from"./List-DliLvTND.js";import{u as Ve}from"./useTheme-BwfxRj1I.js";import{a as J,o as ge}from"./ownerWindow-CN4f4NkX.js";import{d as qe}from"./debounce-Be36O1Ab.js";const Be=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function ne(t){return`scale(${t}, ${t**2})`}const Xe={entering:{opacity:1,transform:ne(1)},entered:{opacity:1,transform:"none"}},Z=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Me=a.forwardRef(function(e,o){const{addEndListener:L,appear:R=!0,children:y,easing:f,in:d,onEnter:u,onEntered:v,onEntering:D,onExit:E,onExited:A,onExiting:x,style:H,timeout:b="auto",TransitionComponent:h=Ae}=e,i=K(e,Be),$=Ie(),n=a.useRef(),s=Ve(),c=a.useRef(null),m=re(c,Ne(y),o),r=l=>T=>{if(l){const S=c.current;T===void 0?l(S):l(S,T)}},F=r(D),I=r((l,T)=>{Ke(l);const{duration:S,delay:g,easing:P}=me({style:H,timeout:b,easing:f},{mode:"enter"});let N;b==="auto"?(N=s.transitions.getAutoHeightDuration(l.clientHeight),n.current=N):N=S,l.style.transition=[s.transitions.create("opacity",{duration:N,delay:g}),s.transitions.create("transform",{duration:Z?N:N*.666,delay:g,easing:P})].join(","),u&&u(l,T)}),_=r(v),q=r(x),O=r(l=>{const{duration:T,delay:S,easing:g}=me({style:H,timeout:b,easing:f},{mode:"exit"});let P;b==="auto"?(P=s.transitions.getAutoHeightDuration(l.clientHeight),n.current=P):P=T,l.style.transition=[s.transitions.create("opacity",{duration:P,delay:S}),s.transitions.create("transform",{duration:Z?P:P*.666,delay:Z?S:S||P*.333,easing:g})].join(","),l.style.opacity=0,l.style.transform=ne(.75),E&&E(l)}),z=r(A),U=l=>{b==="auto"&&$.start(n.current||0,l),L&&L(c.current,l)};return W.jsx(h,M({appear:R,in:d,nodeRef:c,onEnter:I,onEntered:_,onEntering:F,onExit:O,onExited:z,onExiting:q,addEndListener:U,timeout:b==="auto"?null:b},i,{children:(l,T)=>a.cloneElement(y,M({style:M({opacity:0,transform:ne(.75),visibility:l==="exited"&&!d?"hidden":void 0},Xe[l],H,y.props.style),ref:m},T))}))});Me.muiSupportAuto=!0;const Ye=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function ee(t,e,o){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:o?null:t.firstChild}function Pe(t,e,o){return t===e?o?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:o?null:t.lastChild}function Te(t,e){if(e===void 0)return!0;let o=t.innerText;return o===void 0&&(o=t.textContent),o=o.trim().toLowerCase(),o.length===0?!1:e.repeating?o[0]===e.keys[0]:o.indexOf(e.keys.join(""))===0}function B(t,e,o,L,R,y){let f=!1,d=R(t,e,e?o:!1);for(;d;){if(d===t.firstChild){if(f)return!1;f=!0}const u=L?!1:d.disabled||d.getAttribute("aria-disabled")==="true";if(!d.hasAttribute("tabindex")||!Te(d,y)||u)d=R(t,d,o);else return d.focus(),!0}return!1}const Je=a.forwardRef(function(e,o){const{actions:L,autoFocus:R=!1,autoFocusItem:y=!1,children:f,className:d,disabledItemsFocusable:u=!1,disableListWrap:v=!1,onKeyDown:D,variant:E="selectedMenu"}=e,A=K(e,Ye),x=a.useRef(null),H=a.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});_e(()=>{R&&x.current.focus()},[R]),a.useImperativeHandle(L,()=>({adjustStyleForScrollbar:(n,{direction:s})=>{const c=!x.current.style.width;if(n.clientHeight<x.current.clientHeight&&c){const m=`${We(J(n))}px`;x.current.style[s==="rtl"?"paddingLeft":"paddingRight"]=m,x.current.style.width=`calc(100% + ${m})`}return x.current}}),[]);const b=n=>{const s=x.current,c=n.key,m=J(s).activeElement;if(c==="ArrowDown")n.preventDefault(),B(s,m,v,u,ee);else if(c==="ArrowUp")n.preventDefault(),B(s,m,v,u,Pe);else if(c==="Home")n.preventDefault(),B(s,null,v,u,ee);else if(c==="End")n.preventDefault(),B(s,null,v,u,Pe);else if(c.length===1){const r=H.current,F=c.toLowerCase(),I=performance.now();r.keys.length>0&&(I-r.lastTime>500?(r.keys=[],r.repeating=!0,r.previousKeyMatched=!0):r.repeating&&F!==r.keys[0]&&(r.repeating=!1)),r.lastTime=I,r.keys.push(F);const _=m&&!r.repeating&&Te(m,r);r.previousKeyMatched&&(_||B(s,m,!1,u,ee,r))?n.preventDefault():r.previousKeyMatched=!1}D&&D(n)},h=re(x,o);let i=-1;a.Children.forEach(f,(n,s)=>{if(!a.isValidElement(n)){i===s&&(i+=1,i>=f.length&&(i=-1));return}n.props.disabled||(E==="selectedMenu"&&n.props.selected||i===-1)&&(i=s),i===s&&(n.props.disabled||n.props.muiSkipListHighlight||n.type.muiSkipListHighlight)&&(i+=1,i>=f.length&&(i=-1))});const $=a.Children.map(f,(n,s)=>{if(s===i){const c={};return y&&(c.autoFocus=!0),n.props.tabIndex===void 0&&E==="selectedMenu"&&(c.tabIndex=0),a.cloneElement(n,c)}return n});return W.jsx(Ue,M({role:"menu",ref:h,className:d,onKeyDown:b,tabIndex:R?0:-1},A,{children:$}))});function Qe(t){return xe("MuiPopover",t)}be("MuiPopover",["root","paper"]);const Ze=["onEntering"],et=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],tt=["slotProps"];function ve(t,e){let o=0;return typeof e=="number"?o=e:e==="center"?o=t.height/2:e==="bottom"&&(o=t.height),o}function ye(t,e){let o=0;return typeof e=="number"?o=e:e==="center"?o=t.width/2:e==="right"&&(o=t.width),o}function Ee(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function te(t){return typeof t=="function"?t():t}const ot=t=>{const{classes:e}=t;return Re({root:["root"],paper:["paper"]},Qe,e)},nt=X(Ge,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Se=X(ze,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),rt=a.forwardRef(function(e,o){var L,R,y;const f=we({props:e,name:"MuiPopover"}),{action:d,anchorEl:u,anchorOrigin:v={vertical:"top",horizontal:"left"},anchorPosition:D,anchorReference:E="anchorEl",children:A,className:x,container:H,elevation:b=8,marginThreshold:h=16,open:i,PaperProps:$={},slots:n,slotProps:s,transformOrigin:c={vertical:"top",horizontal:"left"},TransitionComponent:m=Me,transitionDuration:r="auto",TransitionProps:{onEntering:F}={},disableScrollLock:I=!1}=f,_=K(f.TransitionProps,Ze),q=K(f,et),O=(L=s==null?void 0:s.paper)!=null?L:$,z=a.useRef(),U=re(z,O.ref),l=M({},f,{anchorOrigin:v,anchorReference:E,elevation:b,marginThreshold:h,externalPaperSlotProps:O,transformOrigin:c,TransitionComponent:m,transitionDuration:r,TransitionProps:_}),T=ot(l),S=a.useCallback(()=>{if(E==="anchorPosition")return D;const p=te(u),C=(p&&p.nodeType===1?p:J(z.current).body).getBoundingClientRect();return{top:C.top+ve(C,v.vertical),left:C.left+ye(C,v.horizontal)}},[u,v.horizontal,v.vertical,D,E]),g=a.useCallback(p=>({vertical:ve(p,c.vertical),horizontal:ye(p,c.horizontal)}),[c.horizontal,c.vertical]),P=a.useCallback(p=>{const w={width:p.offsetWidth,height:p.offsetHeight},C=g(w);if(E==="none")return{top:null,left:null,transformOrigin:Ee(C)};const ce=S();let G=ce.top-C.vertical,V=ce.left-C.horizontal;const ue=G+w.height,pe=V+w.width,fe=ge(te(u)),de=fe.innerHeight-h,he=fe.innerWidth-h;if(h!==null&&G<h){const k=G-h;G-=k,C.vertical+=k}else if(h!==null&&ue>de){const k=ue-de;G-=k,C.vertical+=k}if(h!==null&&V<h){const k=V-h;V-=k,C.horizontal+=k}else if(pe>he){const k=pe-he;V-=k,C.horizontal+=k}return{top:`${Math.round(G)}px`,left:`${Math.round(V)}px`,transformOrigin:Ee(C)}},[u,E,S,g,h]),[N,se]=a.useState(i),j=a.useCallback(()=>{const p=z.current;if(!p)return;const w=P(p);w.top!==null&&(p.style.top=w.top),w.left!==null&&(p.style.left=w.left),p.style.transformOrigin=w.transformOrigin,se(!0)},[P]);a.useEffect(()=>(I&&window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j)),[u,I,j]);const Ce=(p,w)=>{F&&F(p,w),j()},Le=()=>{se(!1)};a.useEffect(()=>{i&&j()}),a.useImperativeHandle(d,()=>i?{updatePosition:()=>{j()}}:null,[i,j]),a.useEffect(()=>{if(!i)return;const p=qe(()=>{j()}),w=ge(u);return w.addEventListener("resize",p),()=>{p.clear(),w.removeEventListener("resize",p)}},[u,i,j]);let ie=r;r==="auto"&&!m.muiSupportAuto&&(ie=void 0);const De=H||(u?J(te(u)).body:void 0),Q=(R=n==null?void 0:n.root)!=null?R:nt,ae=(y=n==null?void 0:n.paper)!=null?y:Se,Fe=Y({elementType:ae,externalSlotProps:M({},O,{style:N?O.style:M({},O.style,{opacity:0})}),additionalProps:{elevation:b,ref:U},ownerState:l,className:oe(T.paper,O==null?void 0:O.className)}),le=Y({elementType:Q,externalSlotProps:(s==null?void 0:s.root)||{},externalForwardedProps:q,additionalProps:{ref:o,slotProps:{backdrop:{invisible:!0}},container:De,open:i},ownerState:l,className:oe(T.root,x)}),{slotProps:Oe}=le,ke=K(le,tt);return W.jsx(Q,M({},ke,!He(Q)&&{slotProps:Oe,disableScrollLock:I},{children:W.jsx(m,M({appear:!0,in:i,onEntering:Ce,onExited:Le,timeout:ie},_,{children:W.jsx(ae,M({},Fe,{children:A}))}))}))});function st(t){return xe("MuiMenu",t)}be("MuiMenu",["root","paper","list"]);const it=["onEntering"],at=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],lt={vertical:"top",horizontal:"right"},ct={vertical:"top",horizontal:"left"},ut=t=>{const{classes:e}=t;return Re({root:["root"],paper:["paper"],list:["list"]},st,e)},pt=X(rt,{shouldForwardProp:t=>je(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),ft=X(Se,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),dt=X(Je,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),yt=a.forwardRef(function(e,o){var L,R;const y=we({props:e,name:"MuiMenu"}),{autoFocus:f=!0,children:d,className:u,disableAutoFocusItem:v=!1,MenuListProps:D={},onClose:E,open:A,PaperProps:x={},PopoverClasses:H,transitionDuration:b="auto",TransitionProps:{onEntering:h}={},variant:i="selectedMenu",slots:$={},slotProps:n={}}=y,s=K(y.TransitionProps,it),c=K(y,at),m=$e(),r=M({},y,{autoFocus:f,disableAutoFocusItem:v,MenuListProps:D,onEntering:h,PaperProps:x,transitionDuration:b,TransitionProps:s,variant:i}),F=ut(r),I=f&&!v&&A,_=a.useRef(null),q=(g,P)=>{_.current&&_.current.adjustStyleForScrollbar(g,{direction:m?"rtl":"ltr"}),h&&h(g,P)},O=g=>{g.key==="Tab"&&(g.preventDefault(),E&&E(g,"tabKeyDown"))};let z=-1;a.Children.map(d,(g,P)=>{a.isValidElement(g)&&(g.props.disabled||(i==="selectedMenu"&&g.props.selected||z===-1)&&(z=P))});const U=(L=$.paper)!=null?L:ft,l=(R=n.paper)!=null?R:x,T=Y({elementType:$.root,externalSlotProps:n.root,ownerState:r,className:[F.root,u]}),S=Y({elementType:U,externalSlotProps:l,ownerState:r,className:F.paper});return W.jsx(pt,M({onClose:E,anchorOrigin:{vertical:"bottom",horizontal:m?"right":"left"},transformOrigin:m?lt:ct,slots:{paper:U,root:$.root},slotProps:{root:T,paper:S},open:A,ref:o,transitionDuration:b,TransitionProps:M({onEntering:q},s),ownerState:r},c,{classes:H,children:W.jsx(dt,M({onKeyDown:O,actions:_,autoFocus:f&&(z===-1||v),autoFocusItem:I,variant:i},D,{className:oe(F.list,D.className),children:d}))}))});export{yt as M};
