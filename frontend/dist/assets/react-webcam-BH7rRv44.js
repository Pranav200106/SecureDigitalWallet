import{S as x,D as A,a as R,i as q,j as T,g as W,r as k,c as F}from"./index-CQi3PHFX.js";import{r as L}from"./CheckCircle-DODlBGN0.js";function Q(M,m){return m===void 0&&(m=new x),new R(M,m)}function V(M,m){return m===void 0&&(m=new x),new A(M,m)}var _={},z=q;Object.defineProperty(_,"__esModule",{value:!0});var G=_.default=void 0,H=z(L()),O=T;G=_.default=(0,H.default)([(0,O.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,O.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"CameraAlt");var j={exports:{}};(function(M,m){(function(y,g){M.exports=g(k)})(F,function(w){return function(y){var g={};function u(n){if(g[n])return g[n].exports;var o=g[n]={i:n,l:!1,exports:{}};return y[n].call(o.exports,o,o.exports,u),o.l=!0,o.exports}return u.m=y,u.c=g,u.d=function(n,o,v){u.o(n,o)||Object.defineProperty(n,o,{enumerable:!0,get:v})},u.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},u.t=function(n,o){if(o&1&&(n=u(n)),o&8||o&4&&typeof n=="object"&&n&&n.__esModule)return n;var v=Object.create(null);if(u.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:n}),o&2&&typeof n!="string")for(var U in n)u.d(v,U,(function(b){return n[b]}).bind(null,U));return v},u.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return u.d(o,"a",o),o},u.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},u.p="",u(u.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(y,g,u){u.r(g);var n=u("react"),o=function(){var f=function(a,e){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])},f(a,e)};return function(a,e){f(a,e);function t(){this.constructor=a}a.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),v=function(){return v=Object.assign||function(f){for(var a,e=1,t=arguments.length;e<t;e++){a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(f[i]=a[i])}return f},v.apply(this,arguments)},U=function(f,a){var e={};for(var t in f)Object.prototype.hasOwnProperty.call(f,t)&&a.indexOf(t)<0&&(e[t]=f[t]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(f);i<t.length;i++)a.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(f,t[i])&&(e[t[i]]=f[t[i]]);return e};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(a){var e=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return e?new Promise(function(t,i){e.call(navigator,a,t,i)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function b(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var C=function(f){o(a,f);function a(e){var t=f.call(this,e)||this;return t.canvas=null,t.ctx=null,t.requestUserMediaId=0,t.unmounted=!1,t.state={hasUserMedia:!1},t}return a.prototype.componentDidMount=function(){var e=this,t=e.state,i=e.props;if(this.unmounted=!1,!b()){i.onUserMediaError("getUserMedia not supported");return}t.hasUserMedia||this.requestUserMedia(),i.children&&typeof i.children!="function"&&console.warn("children must be a function")},a.prototype.componentDidUpdate=function(e){var t=this.props;if(!b()){t.onUserMediaError("getUserMedia not supported");return}var i=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),r=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),h=e.minScreenshotWidth!==t.minScreenshotWidth,c=e.minScreenshotHeight!==t.minScreenshotHeight;(r||h||c)&&(this.canvas=null,this.ctx=null),(i||r)&&(this.stopAndCleanup(),this.requestUserMedia())},a.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},a.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map(function(t){e.removeTrack(t),t.stop()}),e.getAudioTracks().map(function(t){e.removeTrack(t),t.stop()})):e.stop())},a.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(a.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},a.prototype.getScreenshot=function(e){var t=this,i=t.state,r=t.props;if(!i.hasUserMedia)return null;var h=this.getCanvas(e);return h&&h.toDataURL(r.screenshotFormat,r.screenshotQuality)},a.prototype.getCanvas=function(e){var t=this,i=t.state,r=t.props;if(!this.video||!i.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var h=this.video.videoWidth,c=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var d=h/c;h=r.minScreenshotWidth||this.video.clientWidth,c=h/d,r.minScreenshotHeight&&c<r.minScreenshotHeight&&(c=r.minScreenshotHeight,h=c*d)}this.canvas=document.createElement("canvas"),this.canvas.width=(e==null?void 0:e.width)||h,this.canvas.height=(e==null?void 0:e.height)||c,this.ctx=this.canvas.getContext("2d")}var p=this,l=p.ctx,s=p.canvas;return l&&s&&(s.width=(e==null?void 0:e.width)||s.width,s.height=(e==null?void 0:e.height)||s.height,r.mirrored&&(l.translate(s.width,0),l.scale(-1,1)),l.imageSmoothingEnabled=r.imageSmoothing,l.drawImage(this.video,0,0,(e==null?void 0:e.width)||s.width,(e==null?void 0:e.height)||s.height),r.mirrored&&(l.scale(-1,1),l.translate(-s.width,0))),s},a.prototype.requestUserMedia=function(){var e=this,t=this.props,i=function(c,d){var p={video:typeof d<"u"?d:!0};t.audio&&(p.audio=typeof c<"u"?c:!0),e.requestUserMediaId++;var l=e.requestUserMediaId;navigator.mediaDevices.getUserMedia(p).then(function(s){e.unmounted||l!==e.requestUserMediaId?a.stopMediaStream(s):e.handleUserMedia(null,s)}).catch(function(s){e.handleUserMedia(s)})};if("mediaDevices"in navigator)i(t.audioConstraints,t.videoConstraints);else{var r=function(c){return{optional:[{sourceId:c}]}},h=function(c){var d=c.deviceId;return typeof d=="string"?d:Array.isArray(d)&&d.length>0?d[0]:typeof d=="object"&&d.ideal?d.ideal:null};MediaStreamTrack.getSources(function(c){var d=null,p=null;c.forEach(function(S){S.kind==="audio"?d=S.id:S.kind==="video"&&(p=S.id)});var l=h(t.audioConstraints);l&&(d=l);var s=h(t.videoConstraints);s&&(p=s),i(r(d),r(p))})}},a.prototype.handleUserMedia=function(e,t){var i=this.props;if(e||!t){this.setState({hasUserMedia:!1}),i.onUserMediaError(e);return}this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}i.onUserMedia(t)},a.prototype.render=function(){var e=this,t=this,i=t.state,r=t.props,h=r.audio;r.forceScreenshotSourceSize;var c=r.disablePictureInPicture;r.onUserMedia,r.onUserMediaError,r.screenshotFormat,r.screenshotQuality,r.minScreenshotWidth,r.minScreenshotHeight,r.audioConstraints,r.videoConstraints,r.imageSmoothing;var d=r.mirrored,p=r.style,l=p===void 0?{}:p,s=r.children,S=U(r,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),P=d?v(v({},l),{transform:(l.transform||"")+" scaleX(-1)"}):l,E={getScreenshot:this.getScreenshot.bind(this)};return n.createElement(n.Fragment,null,n.createElement("video",v({autoPlay:!0,disablePictureInPicture:c,src:i.src,muted:!h,playsInline:!0,ref:function(I){e.video=I},style:P},S)),s&&s(E))},a.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},a}(n.Component);g.default=C},react:function(y,g){y.exports=w}}).default})})(j);var D=j.exports;const B=W(D);export{B as R,Q as a,V as b,G as d};
